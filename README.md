# PDF_generator
Программа запрашивает данные у API, форматирует их и выводит в виде таблицы в файл result.pdf. Все совпадения с реальными людьми - всего лишь совпадение :)
## App.java
Здесь находится входная точка в приложение (метод main). Ожидается ввод с клавиатуры числа n, где n - количество сгенерированных данных пользователей, 1 <= n <= 30.
Далее вызываются необходимые методы для реализации поставленной задачи:

        // Передаем параметр (количество данных для генерации) для запроса к API.
        WorkingAPI.setQuantity(peopleNumber);
        // Получаем JSON ответ от API в формате String.
        String json = WorkingAPI.returnJSONResponse(WorkingAPI.getMainURI());
        // Передаем JSON на обработку.
        ProcessorJSON.SplitData(json);

        // Создаем документ, заполняем и сохраняем.
        DocumentPDF doc = new DocumentPDF();
        doc.createDoc();
        doc.closeDoc();
       
## WorkingAPI.java
В данном классе находится реализация взаимодействия с API, на чьей стороне и происходит генерация случайных данных о людях. Два поля cityOfBirthURI и mainInfoURI предопределяют HTTPS запрос к API. Второе из полей уточняется сеттером setQuantity, который добавляет в параметры запроса необходимое количество записей для генерации данных. Геттеры возвращают значения private полей. Метод returnJSONResponse посылает GET запрос на сервер, получает ответ в виде JSON и, перед тем как его возвращать, явно преобразует в String.
## ProcessorJSON.java
Класс содержит в себе два метода, которые обрабатывают полученный JSON. Метод modifyStructure изменяет исходный JSON на JSONArray, после чего SplitData разбивает JSONArray (массив) на отдельные элементы.
## PeopleInfoGenerator.java
Этот класс отвечает за сборку и форматирование всей информации. matchCity – фича, проверяет возможность совпадения города рождения и проживания. Метод generateIndex генерирует индекс. За подсчет точного возраста человека отвечает метод countYears. Блок modify форматирует данные. Намеренно использовал такую реализацию в виде методов, а не сущности, так мне видится удобнее и проще в реализации. Формирует всю полученную информацию в массив String метод assembleAllPeopleInfo. 
## package pdf: DocumentPDF.java & Table.java
Классы пакета pdf работают с формированием результирующего файла. Поля хранят в себе свойства документа. createDoc создает файл с одной страницей, а closeDoc закрывает его соответственно. startStream открывает поток на запись в файл, stopStream его закрывает. saveDoc сохраняет документ. Метод fillTable создает и заполняет таблицу.
Сущность Table связана с DocumentPDF. Состоит из полей-свойств, которые необходимы для корректного вывода и отражения данных в таблице, метода createTable, а также внутреннего статического класса Row, который предназначен для формирования строк таблицы. В методе createTable как раз и происходит вызов метода сущности Row, который, как не трудно догадаться, и формирует сроку таблицы. Поле widthArray в классе Row содержит в себе массив значений ширины для каждой ячейки таблицы.

